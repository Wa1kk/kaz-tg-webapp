import{_ as d,i as a,c as u,b as t,q as c,v as b,s as h,n as r,t as f,e as v,f as p}from"./index-BavW3UvP.js";const m="/assets/coin-CAgD55vt.png",g={setup(){return{user:a()}},data(){return{betAmount:100,isFlipping:!1,result:"",resultClass:"",currentSide:null}},computed:{coinClass(){return{flipping:this.isFlipping,heads:this.currentSide==="drip",tails:this.currentSide==="sauce"}}},methods:{flipCoin(i){this.isFlipping||this.betAmount<=0||this.betAmount>this.user.money||(this.user.minusMoney(this.betAmount),this.isFlipping=!0,this.result="",this.resultClass="",this.currentSide=null,setTimeout(()=>{const s=Math.random()<.5;this.currentSide=s?i:i==="drip"?"sauce":"drip",setTimeout(()=>{this.isFlipping=!1,this.currentSide===i?(this.result=`Победа! +${this.betAmount} ₽`,this.resultClass="win",this.user.addMoney(this.betAmount)):(this.result=`Проигрыш! -${this.betAmount} ₽`,this.resultClass="loss")},2e3)},2e3))}}},C={class:"coin-flip-game"},A={class:"bet-controls"},y=["max"],F={class:"game-area"},S={class:"choice-buttons"},_=["disabled"],k=["disabled"];function B(i,s,w,o,e,l){return p(),u("div",C,[t("div",A,[c(t("input",{ref:"betInput",type:"number","onUpdate:modelValue":s[0]||(s[0]=n=>e.betAmount=n),min:"1",max:o.user.money,placeholder:"Сумма ставки",class:"bet-input",onBlur:s[1]||(s[1]=(...n)=>i.resetFormPosition&&i.resetFormPosition(...n)),onKeyup:s[2]||(s[2]=h((...n)=>i.handleBetInput&&i.handleBetInput(...n),["enter"]))},null,40,y),[[b,e.betAmount,void 0,{number:!0}]]),t("button",{onClick:s[3]||(s[3]=n=>i.setBetAmount(o.user.money)),class:"max-bet-btn"},"МАКС")]),t("div",F,[t("div",{class:r(["coin-container",{flipping:e.isFlipping}])},[t("div",{class:r(["coin",l.coinClass])},s[6]||(s[6]=[t("div",{class:"front"},[t("img",{src:m,alt:"Дрип"}),t("span",null,"ДРИП")],-1),t("div",{class:"back"},[t("img",{src:m,alt:"Соус"}),t("span",null,"СОУС")],-1)]),2)],2),e.result?(p(),u("div",{key:0,class:r(["result",e.resultClass])},f(e.result),3)):v("",!0)]),t("div",S,[t("button",{onClick:s[4]||(s[4]=n=>l.flipCoin("drip")),disabled:e.isFlipping||e.betAmount<=0||e.betAmount>o.user.money,class:"choice-btn drip-btn"},"ДРИП",8,_),t("button",{onClick:s[5]||(s[5]=n=>l.flipCoin("sauce")),disabled:e.isFlipping||e.betAmount<=0||e.betAmount>o.user.money,class:"choice-btn sauce-btn"},"СОУС",8,k)])])}const M=d(g,[["render",B],["__scopeId","data-v-c166f778"]]);export{M as default};
